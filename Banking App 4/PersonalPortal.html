<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" cotent="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut ixcon" href="download-remxovebg-preview.png">
    <!-- <link rel="stylesheet" href="bootstrap-5.0.0-beta3-dist/css/bootstrap.css"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<link rel="stylesheet" href="personal.css">
    <title>Personal Portal</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light shadow" style="background: rgb(213, 213, 213);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
      Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;height:100px">
      <div class="container-fluid" >
        <a class="navbar-brand" href="Home.html">
            <img src="download-removebg-preview.png" alt="" style="width:70px; height: 70px; margin-right: 120px;">
          </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0" >
            <li class="nav-item">
              <button type="submit" class="btn btn-white text-danger" onclick="myfunc()" id="home">
                Home
              </button>
              </li>
              <li>
          <button type="submit" class="btn btn-white text-danger" onclick="Editing()" id="home">
            Edit Profile
              </button>
              </li>
              <li>
            <li>
          <button type="submit" class="btn btn-white text-danger" onclick="withdral()" id="home">
                Withdraw
              </button>
              </li>
              <li>
                <button type="submit" class="btn btn-white text-danger" onclick="deposited()" id="home">
                      Deposit
                    </button>
                    </li>
              <li>
           <button type="submit" class="btn btn-white text-danger" onclick="TransferAmmount()" id="home">
                Transfer
              </button>
              </li>
              <li>
                <button type="submit" class="btn btn-white text-danger" onclick="GoingIn()" id="home">
                    Transactions Details
                   </button>
                   </li>
                   <li>
                    <button type="submit" class="btn btn-white text-danger" onclick="Manager()" id="home">
               Admin
                        </button>
                        </li>
                   <li>
                    <button type="submit" class="btn btn-white text-danger" onclick="GoingIn()" id="home">
                       Log out
                       </button>
                       </li>
              
         </div>
      </div>
    </nav>

    <div style="background-color: rgb(220,53,69);height: 200px;border-radius: 10px;color:rgb(213,213,213);">
        <center>
        <label for="Balance" style="font-size: 40px;">Balance  :</label>
        <input type="text" style="background-color: transparent;border-radius: 100px;width: 350px;height: 100px;font-size: 50px;outline: none;border: none;color:rgb(213,213,213)" id="show" disabled>
        
        <br>
        <div id="bank">

        </div>
    </center>
    </div>
    <center>
		<div id="editDets">
            <button class="btn-close" onclick="stop()">

            </button>
		<div >
			<form >
  <div class="mb-1 form-text">
    <label  class="form-label text-white" sty>First Name</label>
    <input class="form-control  w-25 input" id="fName" placeholder="Required First Name" required>
    </div>
  </div>

  <div class="form-text mb-1">
    <label class="form-input-label text-white" sty>Lastname</label>
    <input type="text" class="form-control input A w-25" placeholder="Required Last Name" id="lName" required>
  </div>

  <div class="form-text mb-1"X>
    <label class="form-text-label text-white" sty>Phone Number</label>
    <input type="text" class="form-control input w-25" placeholder="Phone Number" id="phone" required>
  </div>
  <div class="form-text mb-1">
    <label class="form-text-label text-white" sty>Occupation</label>
    <input type="text" class="form-control input w-25" placeholder="Occupation" id="occupate" required>
  </div>
  <div class="form-text mb-1">
    <label class="form-text-label text-white" sty>Home Address</label>
    <input type="text" class="form-control input w-25" placeholder="Home Address" id="Addres" required>
  </div>

  <div class="form-email mb-1">
    <label class="form-email-label text-white" for="validationEmail"sty>Email</label>
    <input type="email" class="form-control input w-25" placeholder="abcd@info.com" id="email" required>
  </div>
  
  <div class="form-password mb-1">
    <label class="form-password-label text-white" sty>Pin</label>
    <input type="password" class="form-control input w-25" placeholder="Eg. 1234" id="pin" required>
  </div>
  <label for="Account" class="text-white">Account Number</label>
  <input type="text" class="input" id="accNumber">
  <br>
  <label for="Account" class="text-white">Amount</label>
  <input type="text" class="input" id="amount" disabled>
  <br>
    <button type="button" class="btn btn-success" onclick="saveEdit()">Save</button>
    <button type="button" class="btn btn-danger" onclick="clearDets()">Delete Account</button>
</form>
</div>
		</div>
			</div>
            <div class="container w-25" id="second">
                <img src="no-profile-image.png" style="width: 100px">
                    <div id="userProfileDetails" style="display: none;" class="text-white">
                        <h1>
                            Users Profile
                        </h1>
                    </div>	
                <br>
                <div class="text-white">
            
                Name: <div id="showingAccount1" class="text-white" ></div>
            
                <br> 
            
                Account No: <div id="showingAccount" class="text-white" ></div>
            
                <br> 
        
                <button class="btn btn-primary" onclick="Editing()">
                    Edit Details
                </button>
                
                </div>
            </div>
	</center>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>


<script src="PersonalPoratal.js"></script>
<!-- <script>
    editDets.style.display="none"
		let allClients = [];
		existing = JSON.parse(localStorage.allCustomers);
		allClients = existing;
    for (var i = 0; i < allClients.length; i++) {
			if (JSON.parse(localStorage.login) == i) {
				// alert('Welcome, ' + allClients[i].firstName)
				
			}
            showingAccount.innerHTML=allClients[i].accNo;
				// 
				showingAccount1.innerHTML=allClients[i].firstName + " " + allClients[i].lastName;

		}
    function showBalance() {
			for (var i = 0; i < allClients.length; i++) {
				if (JSON.parse(localStorage.login) == i) {
					show.value =`${allClients[i].amount}`;
				}
			}
		}
        showBalance()
        function Editing(){
            // editDets.style.display="block"
            editDets.style.display = 'block';
            second.style.display='none'
			for (var i = 0; i < allClients.length; i++) {
				if (JSON.parse(localStorage.login) == i) {
					accNumber.disabled = true;
					fName.value = allClients[i].firstName;
					lName.value = allClients[i].lastName;
					phone.value = allClients[i].phoneNumber;
                    occupate.value=allClients[i].Occupation;
                    Addres.value=allClients[i].Home
					email.value = allClients[i].mail;
					pin.value = allClients[i].uPin;
					accNumber.value = allClients[i].accNo;
					amount.value = allClients[i].amount;
        }
    }
}
        function stop(){
            editDets.style.display="none"
            second.style.display='block'
        }
        function clearDets() {
					allClients.splice(JSON.parse(localStorage.login), 1);
					localStorage.allCustomers = JSON.stringify(allClients)
					alert('Account Deleted successfully');
					window.location.href = 'Homme.html'
		}
        function saveEdit() {
			
			edited = {};
			edited.firstName = fName.value;
			edited.lastName = lName.value;
			edited.phoneNumber = phone.value;
			edited.mail = email.value;
			edited.uPin = pin.value;
            edited.Occupation = occupate.value;
            edited.Home = Addres;
			edited.accNo = accNumber.value;
			edited.amount = amount.value;
			for (var i = 0; i < allClients.length; i++) {
				if (edited.phoneNumber == allClients[i].phoneNumber && JSON.parse(localStorage.login) != i) {
					alert('Phone number already exist, please try another phone number')
					return
				} else {
					allClients.splice(JSON.parse(localStorage.login), 1, edited)
					localStorage.allCustomers = JSON.stringify(allClients)
					alert('Edit successful')
					return
				}
			}
			
		}
    
        function withdral() {
			newAmount = {}
			withdraAmount = prompt('How much do you wish to withdraw')
			user = prompt('Enter your account pin')
			for (var i = 0; i < allClients.length; i++) {
				if (JSON.parse(localStorage.login) == i && allClients[i].Password == user) {
					newAmount.firstName = allClients[i].firstName;
					newAmount.lastName = allClients[i].lastName;
					newAmount.phoneNumber = allClients[i].phoneNumber;
					newAmount.mail = allClients[i].mail;
					newAmount.Password = allClients[i].Password;
                    newAmount.Occupation = allClients[i].Occupation;
                    newAmount.Home = allClients[i].Home;
					newAmount.accNo = allClients[i].accNo
					newAmount.amount = eval(allClients[i].amount - withdraAmount)
					show.value =  newAmount.amount;
					// allClients[i].amount = newAmount.amount;
					allClients.splice(JSON.parse(localStorage.login), 1, newAmount)
					localStorage.allCustomers = JSON.stringify(allClients)
					return
				}
			}
		}
        function deposited(){
            newDeposit={}
            var AmountToDeposit=prompt("how much do you want to Transfer?")
            var pins=prompt("input your pin")
            for(var i = 0;i <  allClients.length;i++){
                if (JSON.parse(localStorage.login) == i &&  allClients[i].Password == pins) {
					newDeposit.firstName =  allClients[i].firstName;
					newDeposit.lastName =  allClients[i].lastName;
					newDeposit.phoneNumber =  allClients[i].phoneNumber;
					newDeposit.mail =  allClients[i].mail;
					newDeposit.uPin =  allClients[i].uPin;
					newDeposit.accNo =  allClients[i].accNo;
                    newDeposit.Password = allClients[i].Password;
                    newDeposit.Occupation = allClients[i].Occupation;
					newDeposit.amount = eval( AmountToDeposit + allClients[i].amount)
					show.value = `${newDeposit.amount}`;
					 allClients.splice(JSON.parse(localStorage.login), 1, newDeposit)
					localStorage. allCustomers = JSON.stringify( allClients)
					return;



				}
            }
        }
        function Manager(){
            window.location.href="Admin.html"
        }
        function TransferAmmount(){
            newTransfer={}
            var AmountToTransfer=prompt("how much do you want to Transfer?")
            var AccountToTransfer=prompt("Beneficiary Account Number")
            var pin=prompt("input your pin")
            for(var i = 0;i <  allClients.length;i++){
                if (JSON.parse(localStorage.login) == i &&  allClients[i].Password == pin &&  allClients[i].AccountNumber == AccountToTransfer) {
					newTransfer.firstName =  allClients[i].firstName;
					newTransfer.lastName =  allClients[i].lastName;
					newTransfer.phoneNumber =  allClients[i].phoneNumber;
					newTransfer.mail =  allClients[i].mail;
					newTransfer.Password =  allClients[i].Password;
					newTransfer.accNo =  allClients[i].accNo
					newTransfer.amount = eval( allClients[i].amount - AmountToTransfer)
					show.value = `${newTransfer.amount}`;
                    newTransfer.amount= eval( allClients[i].amount + AmountToTransfer)
					 allClients.splice(JSON.parse(localStorage.login), 1, newTransfer)
					localStorage. allCustomers = JSON.stringify( allClients)
					return;
				}
            }
        }
        function myfunc(){
      window.location.href='Homme.html'
    }
    function GetingStarted(){
      window.location.href='Signningup.html'
    }
    function GoingIn(){
      window.location.href='Log.html'
    }
</script> -->
</body>
</html>